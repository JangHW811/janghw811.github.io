{"version":3,"sources":["src/index.js"],"names":["parallaxScrollHeight","contentHeight","window","innerHeight","elLength","rate","toFixed","index","onScroll","yOffset","pageYOffset","newIndex","parseInt","console","log","positionY","unitNumber","background","document","querySelector","backgroundTop","style","backgroundPositionY","transform","layer0","layer1","layer2","layer3","layer4","layer5","opacity","Math","abs","fadeTiming","building1Layer","building2Layer","building3Layer","building4Layer","layerBuildingContainer","positionHandle","timing","layer","translatNumber","bottomPosition","addEventListener","event","el","target","classList","toggle","peopleContainer","human","querySelectorAll","forEach","item","remove","parentElement","add"],"mappings":"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","file":"src.8c489b91.js","sourceRoot":"..","sourcesContent":["const parallaxScrollHeight = 15000;\nconst contentHeight = parallaxScrollHeight + window.innerHeight;\nconst elLength = 7;\nconst rate = (1 / (elLength + 1)).toFixed(2);\nlet index = null;\n\nconst onScroll = () => {\n  const yOffset = (window.pageYOffset / contentHeight).toFixed(2);\n  const newIndex = parseInt(yOffset / rate);\n  if (index !== newIndex) {\n    index = newIndex;\n  }\n\n  console.log('index', index, contentHeight / elLength, yOffset);\n  // const positionY = document.querySelector('.wrap').scrollTop;\n  const positionY = window.pageYOffset;\n  const unitNumber = contentHeight / elLength;\n  const background = document.querySelector('.background');\n  const backgroundTop = document.querySelector('.backgroundTop');\n  background.style.backgroundPositionY = `${positionY * 0.93}px`;\n  backgroundTop.style.transform = `translateY(${positionY * 0.93}px)`;\n\n  const layer0 = document.querySelector('.layer0');\n  const layer1 = document.querySelector('.layer1');\n  const layer2 = document.querySelector('.layer2');\n  const layer3 = document.querySelector('.layer3');\n  const layer4 = document.querySelector('.layer4');\n  const layer5 = document.querySelector('.layer5');\n\n  const fadeTiming = 500;\n  const fadeLong = 2.2;\n  layer0.style.opacity = fadeLong - Math.abs(positionY - (fadeTiming - 100)) / (fadeTiming - 100);\n  layer1.style.opacity = fadeLong - Math.abs(positionY - unitNumber) / fadeTiming;\n  layer2.style.opacity = fadeLong - Math.abs(positionY - unitNumber * 2) / fadeTiming;\n  layer3.style.opacity = fadeLong - Math.abs(positionY - unitNumber * 3) / fadeTiming;\n  layer4.style.opacity = fadeLong - Math.abs(positionY - unitNumber * 4) / fadeTiming;\n  layer5.style.opacity = -(fadeLong - (positionY - unitNumber * 4.5) / fadeTiming);\n\n  console.log('(positionY - unitNumber * 6) / fadeTiming;', 2 - (positionY - unitNumber * 6) / fadeTiming);\n  const building1Layer = document.querySelector('.building1Layer');\n  const building2Layer = document.querySelector('.building2Layer');\n  const building3Layer = document.querySelector('.building3Layer');\n  const building4Layer = document.querySelector('.building4Layer');\n  const layerBuildingContainer = document.querySelector('.layerBuildingContainer');\n\n  const positionHandle = (timing, layer) => {\n    const translatNumber = positionY / (timing * 0.3);\n    console.log('positionY < unitNumber * bIndex', contentHeight, translatNumber, positionY, unitNumber, timing);\n\n    if (translatNumber < 800) {\n      layer.style.transform = `translateY(-${translatNumber}px)`;\n    } else {\n      layer.style.transform = `translateY(-${800}px)`;\n    }\n\n    // console.log(position, windowHeight);\n    // const abs = Math.abs(position);\n    // if (abs < 1300) {\n    //   layer.style.transform = `translateY(-${position}px)`;\n    // } else {\n    //   layer.style.transform = `translateY(-${1300}px)`;\n    // }\n  };\n\n  positionHandle(40, building1Layer);\n  positionHandle(37, building2Layer);\n  positionHandle(42, building3Layer);\n  positionHandle(45, building4Layer);\n\n  if (parallaxScrollHeight - window.innerHeight <= positionY) {\n    const bottomPosition = positionY - (parallaxScrollHeight - window.innerHeight);\n    console.log('bottomPosition::', bottomPosition);\n    layerBuildingContainer.style.transform = `translateY(-${bottomPosition}px)`;\n    layer5.style.transform = `translateY(-${bottomPosition}px)`;\n  } else {\n    layerBuildingContainer.style.transform = null;\n    layer5.style.transform = null;\n  }\n  // positionHandle(5, layerBuildingContainer);\n\n  // console.log('windowHeight', windowHeight, layer5.style.opacity);\n  // if (positionY > unitNumber * 8) {\n  //   const layerBuildingContainer = document.querySelector('.layerBuildingContainer');\n  //   layerBuildingContainer.style.transform = `translateY(${unitNumber * 8 - positionY}px)`;\n  // }\n};\n\nwindow.addEventListener('scroll', onScroll);\n\n// handle event\nwindow.addEventListener('resize', onScroll);\n\n(() => {\n  const finger = document.querySelector('.fingerToggle');\n  finger.addEventListener('click', (event) => {\n    const el = document.querySelector('.fingerFrame');\n    console.log(event.target);\n    el.classList.toggle('open');\n  });\n  const peopleContainer = document.querySelector('.peopleContainer');\n\n  const human = peopleContainer.querySelectorAll('a');\n\n  human.forEach((item, index) =>\n    item.addEventListener('click', (event) => {\n      human.forEach((item) => {\n        item.classList.remove('active');\n      });\n      // const human = target.parent();\n      // const human = event.target;\n\n      event.target.parentElement.classList.add('active');\n      console.log(event.target, index);\n    }),\n  );\n})();\n"]}