{"version":3,"sources":["src/index.js"],"names":["parallaxScrollHeight","contentHeight","window","innerHeight","elLength","rate","toFixed","index","onScroll","yOffset","pageYOffset","newIndex","parseInt","console","log","positionY","unitNumber","document","querySelector","style","backgroundPositionY","layer0","layer1","layer2","layer3","layer4","layer5","opacity","Math","abs","building1Layer","building2Layer","building3Layer","building4Layer","layerBuildingContainer","moonBackground","positionHandle","bIndex","layer","translatNumber","transform","bottomPosition","addEventListener","event","el","target","classList","toggle","peopleContainer","human","querySelectorAll","forEach","item","remove","parentElement","add"],"mappings":";AAAA,IAAMA,EAAuB,IACvBC,EAAgBD,EAAuBE,OAAOC,YAC9CC,EAAW,EACXC,GAAQ,GAAKD,EAAW,IAAIE,QAAQ,GACtCC,EAAQ,KAENC,EAAW,WACTC,IAAAA,GAAWP,OAAOQ,YAAcT,GAAeK,QAAQ,GACvDK,EAAWC,SAASH,EAAUJ,GAChCE,IAAUI,IACZJ,EAAQI,GAGVE,QAAQC,IAAI,QAASP,EAAON,EAAgBG,EAAUK,GAEhDM,IAAAA,EAAYb,OAAOQ,YACnBM,EAAaf,EAAgBG,EAChBa,SAASC,cAAc,eAC/BC,MAAMC,oBAAyBL,GAAAA,OAAY,GAAZA,EAA1C,MAEMM,IAAAA,EAASJ,SAASC,cAAc,WAChCI,EAASL,SAASC,cAAc,WAChCK,EAASN,SAASC,cAAc,WAChCM,EAASP,SAASC,cAAc,WAChCO,EAASR,SAASC,cAAc,WAChCQ,EAAST,SAASC,cAAc,WAGtCG,EAAOF,MAAMQ,QAAU,EAAIC,KAAKC,IAAId,EAAY,KAD7B,IAEnBO,EAAOH,MAAMQ,QAAU,EAAIC,KAAKC,IAAId,EAAyB,EAAbC,GAF7B,IAGnBO,EAAOJ,MAAMQ,QAAU,EAAIC,KAAKC,IAAId,EAAyB,EAAbC,GAH7B,IAInBQ,EAAOL,MAAMQ,QAAU,EAAIC,KAAKC,IAAId,EAAyB,EAAbC,GAJ7B,IAKnBS,EAAON,MAAMQ,QAAU,EAAIC,KAAKC,IAAId,EAAyB,EAAbC,GAL7B,IAMnBU,EAAOP,MAAMQ,QAAU,EAAIC,KAAKC,IAAId,EAAyB,EAAbC,GAN7B,IAQbc,IAAAA,EAAiBb,SAASC,cAAc,mBACxCa,EAAiBd,SAASC,cAAc,mBACxCc,EAAiBf,SAASC,cAAc,mBACxCe,EAAiBhB,SAASC,cAAc,mBACxCgB,EAAyBjB,SAASC,cAAc,2BAChDiB,EAAiBlB,SAASC,cAAc,mBAExCkB,EAAiB,SAACC,EAAQC,GACxBC,IAAAA,EAAiBxB,GAAsB,IAATsB,GACpCxB,QAAQC,IAAI,kCAAmCb,EAAesC,EAAgBxB,EAAWC,EAAYqB,GAGnGC,EAAMnB,MAAMqB,UAA2BD,eAAAA,OADrCA,EAAiBvB,EACoBuB,EAEAvB,EAFvC,QAmBAhB,GALJoC,EAAe,EAAGN,GAClBM,EAAe,EAAGL,GAClBK,EAAe,EAAGJ,GAClBI,EAAe,EAAGH,GAEdjC,EAAuBE,OAAOC,aAAeY,EAAW,CACpD0B,IAAAA,EAAiB1B,GAAaf,EAAuBE,OAAOC,aAClEU,QAAQC,IAAI,mBAAoB2B,GAChCP,EAAuBf,MAAMqB,UAA2BC,eAAAA,OAAAA,EAAxD,OACAN,EAAehB,MAAMqB,UAA2BC,eAAAA,OAAAA,EAAhD,YAEAP,EAAuBf,MAAMqB,UAAY,KACzCL,EAAehB,MAAMqB,UAAY,MAWrCtC,OAAOwC,iBAAiB,SAAUlC,GAGlCN,OAAOwC,iBAAiB,SAAUlC,GAElC,WACiBS,SAASC,cAAc,iBAC/BwB,iBAAiB,QAAS,SAACC,GAC1BC,IAAAA,EAAK3B,SAASC,cAAc,gBAClCL,QAAQC,IAAI6B,EAAME,QAClBD,EAAGE,UAAUC,OAAO,UAEhBC,IAEAC,EAFkBhC,SAASC,cAAc,oBAEjBgC,iBAAiB,KAE/CD,EAAME,QAAQ,SAACC,EAAM7C,GACnB6C,OAAAA,EAAKV,iBAAiB,QAAS,SAACC,GAC9BM,EAAME,QAAQ,SAACC,GACbA,EAAKN,UAAUO,OAAO,YAKxBV,EAAME,OAAOS,cAAcR,UAAUS,IAAI,UACzC1C,QAAQC,IAAI6B,EAAME,OAAQtC,OApBhC","file":"src.fe9e391a.js","sourceRoot":"..","sourcesContent":["const parallaxScrollHeight = 40000;\nconst contentHeight = parallaxScrollHeight + window.innerHeight;\nconst elLength = 7;\nconst rate = (1 / (elLength + 1)).toFixed(2);\nlet index = null;\n\nconst onScroll = () => {\n  const yOffset = (window.pageYOffset / contentHeight).toFixed(2);\n  const newIndex = parseInt(yOffset / rate);\n  if (index !== newIndex) {\n    index = newIndex;\n  }\n\n  console.log('index', index, contentHeight / elLength, yOffset);\n  // const positionY = document.querySelector('.wrap').scrollTop;\n  const positionY = window.pageYOffset;\n  const unitNumber = contentHeight / elLength;\n  const background = document.querySelector('.background');\n  background.style.backgroundPositionY = `${positionY * 0.8}px`;\n\n  const layer0 = document.querySelector('.layer0');\n  const layer1 = document.querySelector('.layer1');\n  const layer2 = document.querySelector('.layer2');\n  const layer3 = document.querySelector('.layer3');\n  const layer4 = document.querySelector('.layer4');\n  const layer5 = document.querySelector('.layer5');\n\n  const fadeTiming = 900;\n  layer0.style.opacity = 2 - Math.abs(positionY - 900) / fadeTiming;\n  layer1.style.opacity = 2 - Math.abs(positionY - unitNumber * 2) / fadeTiming;\n  layer2.style.opacity = 2 - Math.abs(positionY - unitNumber * 3) / fadeTiming;\n  layer3.style.opacity = 2 - Math.abs(positionY - unitNumber * 4) / fadeTiming;\n  layer4.style.opacity = 2 - Math.abs(positionY - unitNumber * 5) / fadeTiming;\n  layer5.style.opacity = 2 - Math.abs(positionY - unitNumber * 6) / fadeTiming;\n\n  const building1Layer = document.querySelector('.building1Layer');\n  const building2Layer = document.querySelector('.building2Layer');\n  const building3Layer = document.querySelector('.building3Layer');\n  const building4Layer = document.querySelector('.building4Layer');\n  const layerBuildingContainer = document.querySelector('.layerBuildingContainer');\n  const moonBackground = document.querySelector('.moonBackground');\n\n  const positionHandle = (bIndex, layer) => {\n    const translatNumber = positionY / (bIndex * 1.4);\n    console.log('positionY < unitNumber * bIndex', contentHeight, translatNumber, positionY, unitNumber, bIndex);\n\n    if (translatNumber < unitNumber) {\n      layer.style.transform = `translateY(-${translatNumber}px)`;\n    } else {\n      layer.style.transform = `translateY(-${unitNumber}px)`;\n    }\n\n    // console.log(position, windowHeight);\n    // const abs = Math.abs(position);\n    // if (abs < 1300) {\n    //   layer.style.transform = `translateY(-${position}px)`;\n    // } else {\n    //   layer.style.transform = `translateY(-${1300}px)`;\n    // }\n  };\n\n  positionHandle(1, building1Layer);\n  positionHandle(2, building2Layer);\n  positionHandle(3, building3Layer);\n  positionHandle(4, building4Layer);\n\n  if (parallaxScrollHeight - window.innerHeight <= positionY) {\n    const bottomPosition = positionY - (parallaxScrollHeight - window.innerHeight);\n    console.log('bottomPosition::', bottomPosition);\n    layerBuildingContainer.style.transform = `translateY(-${bottomPosition}px)`;\n    moonBackground.style.transform = `translateY(-${bottomPosition}px)`;\n  } else {\n    layerBuildingContainer.style.transform = null;\n    moonBackground.style.transform = null;\n  }\n  // positionHandle(5, layerBuildingContainer);\n\n  // console.log('windowHeight', windowHeight, layer5.style.opacity);\n  // if (positionY > unitNumber * 8) {\n  //   const layerBuildingContainer = document.querySelector('.layerBuildingContainer');\n  //   layerBuildingContainer.style.transform = `translateY(${unitNumber * 8 - positionY}px)`;\n  // }\n};\n\nwindow.addEventListener('scroll', onScroll);\n\n// handle event\nwindow.addEventListener('resize', onScroll);\n\n(() => {\n  const finger = document.querySelector('.fingerToggle');\n  finger.addEventListener('click', (event) => {\n    const el = document.querySelector('.fingerFrame');\n    console.log(event.target);\n    el.classList.toggle('open');\n  });\n  const peopleContainer = document.querySelector('.peopleContainer');\n\n  const human = peopleContainer.querySelectorAll('a');\n\n  human.forEach((item, index) =>\n    item.addEventListener('click', (event) => {\n      human.forEach((item) => {\n        item.classList.remove('active');\n      });\n      // const human = target.parent();\n      // const human = event.target;\n\n      event.target.parentElement.classList.add('active');\n      console.log(event.target, index);\n    }),\n  );\n})();\n"]}