{"version":3,"sources":["src/index.js"],"names":["height","window","document","body","clientHeight","innerHeight","elLength","rate","toFixed","index","onScroll","yOffset","pageYOffset","newIndex","parseInt","console","log","positionY","unitNumber","background","querySelector","windowHeight","style","backgroundPositionY","layer0","layer1","layer2","layer3","layer4","layer5","opacity","Math","abs","building1Layer","building2Layer","building3Layer","building4Layer","positionHandle","bIndex","layer","translatNumber","transform","addEventListener","event","el","target","classList","toggle"],"mappings":";AAAA,IAAMA,EAASC,OAAOC,SAASC,KAAKC,aAAeH,OAAOI,YACpDC,EAAW,GACXC,GAAQ,GAAKD,EAAW,IAAIE,QAAQ,GACtCC,EAAQ,KAENC,EAAW,WACTC,IAAAA,GAAWV,OAAOW,YAAcZ,GAAQQ,QAAQ,GAChDK,EAAWC,SAASH,EAAUJ,GAChCE,IAAUI,IACZJ,EAAQI,GAGVE,QAAQC,IAAI,QAASP,EAAOT,EAASM,EAAUK,GAEzCM,IAAAA,EAAYhB,OAAOW,YACnBM,EAAalB,EAASM,EACtBa,EAAajB,SAASkB,cAAc,eACpCC,EAAepB,OAAOI,YAC5Bc,EAAWG,MAAMC,oBAAyBN,GAAAA,OAAY,GAAZA,EAA1C,MAEAF,QAAQC,IAAI,YAAaC,GACnBO,IAAAA,EAAStB,SAASkB,cAAc,WAChCK,EAASvB,SAASkB,cAAc,WAChCM,EAASxB,SAASkB,cAAc,WAChCO,EAASzB,SAASkB,cAAc,WAChCQ,EAAS1B,SAASkB,cAAc,WAChCS,EAAS3B,SAASkB,cAAc,WAEtCI,EAAOF,MAAMQ,QAAU,EAAIC,KAAKC,IAAIf,EAAY,KAAO,IACvDQ,EAAOH,MAAMQ,QAAU,EAAIC,KAAKC,IAAIf,EAAyB,EAAbC,GAAkB,IAClEQ,EAAOJ,MAAMQ,QAAU,EAAIC,KAAKC,IAAIf,EAAyB,EAAbC,GAAkB,IAClES,EAAOL,MAAMQ,QAAU,EAAIC,KAAKC,IAAIf,EAAyB,EAAbC,GAAkB,IAClEU,EAAON,MAAMQ,QAAU,EAAIC,KAAKC,IAAIf,EAAyB,EAAbC,GAAkB,IAClEW,EAAOP,MAAMQ,QAAU,EAAIC,KAAKC,IAAIf,EAAyB,EAAbC,GAAkB,IAE5De,IAAAA,EAAiB/B,SAASkB,cAAc,mBACxCc,EAAiBhC,SAASkB,cAAc,mBACxCe,EAAiBjC,SAASkB,cAAc,mBACxCgB,EAAiBlC,SAASkB,cAAc,mBAExCiB,EAAiB,SAACC,EAAQC,GAC9BxB,QAAQC,IAAI,kCAAmCC,EAAWC,EAAYoB,GAChEE,IAAAA,EAAiBvB,GAAsB,IAATqB,GAGlCC,EAAMjB,MAAMmB,UAA2BD,eAAAA,OADrCA,EAAiBtB,EACoBsB,EAEAtB,EAFvC,SAcJmB,EAAe,EAAGJ,GAClBI,EAAe,EAAGH,GAClBG,EAAe,EAAGF,GAClBE,EAAe,EAAGD,GAElBrB,QAAQC,IAAI,eAAgBK,EAAcQ,EAAOP,MAAMQ,SACnDb,EAAyB,EAAbC,KACiBhB,SAASkB,cAAc,2BAC/BE,MAAMmB,UAA0BvB,cAAAA,OAAa,EAAbA,EAAiBD,EAAxE,SAiDJhB,OAAOyC,iBAAiB,SAAUhC,GAGlCT,OAAOyC,iBAAiB,SAAUhC,GAGjBR,SAASkB,cAAc,iBAC/BsB,iBAAiB,QAAS,SAACC,GAC1BC,IAAAA,EAAK1C,SAASkB,cAAc,gBAClCL,QAAQC,IAAI2B,EAAME,QAClBD,EAAGE,UAAUC,OAAO","file":"src.e2374548.js","sourceRoot":"..","sourcesContent":["const height = window.document.body.clientHeight + window.innerHeight;\nconst elLength = 16;\nconst rate = (1 / (elLength + 1)).toFixed(2);\nlet index = null;\n\nconst onScroll = () => {\n  const yOffset = (window.pageYOffset / height).toFixed(2);\n  const newIndex = parseInt(yOffset / rate);\n  if (index !== newIndex) {\n    index = newIndex;\n  }\n\n  console.log('index', index, height / elLength, yOffset);\n  // const positionY = document.querySelector('.wrap').scrollTop;\n  const positionY = window.pageYOffset;\n  const unitNumber = height / elLength;\n  const background = document.querySelector('.background');\n  const windowHeight = window.innerHeight;\n  background.style.backgroundPositionY = `${positionY * 0.8}px`;\n\n  console.log('positionY', positionY);\n  const layer0 = document.querySelector('.layer0');\n  const layer1 = document.querySelector('.layer1');\n  const layer2 = document.querySelector('.layer2');\n  const layer3 = document.querySelector('.layer3');\n  const layer4 = document.querySelector('.layer4');\n  const layer5 = document.querySelector('.layer5');\n\n  layer0.style.opacity = 2 - Math.abs(positionY - 900) / 900;\n  layer1.style.opacity = 2 - Math.abs(positionY - unitNumber * 2) / 900;\n  layer2.style.opacity = 2 - Math.abs(positionY - unitNumber * 3) / 900;\n  layer3.style.opacity = 2 - Math.abs(positionY - unitNumber * 4) / 900;\n  layer4.style.opacity = 2 - Math.abs(positionY - unitNumber * 5) / 900;\n  layer5.style.opacity = 2 - Math.abs(positionY - unitNumber * 6) / 900;\n\n  const building1Layer = document.querySelector('.building1Layer');\n  const building2Layer = document.querySelector('.building2Layer');\n  const building3Layer = document.querySelector('.building3Layer');\n  const building4Layer = document.querySelector('.building4Layer');\n\n  const positionHandle = (bIndex, layer) => {\n    console.log('positionY < unitNumber * bIndex', positionY, unitNumber, bIndex);\n    const translatNumber = positionY / (bIndex * 1.4);\n\n    if (translatNumber < unitNumber) {\n      layer.style.transform = `translateY(-${translatNumber}px)`;\n    } else {\n      layer.style.transform = `translateY(-${unitNumber}px)`;\n    }\n\n    // console.log(position, windowHeight);\n    // const abs = Math.abs(position);\n    // if (abs < 1300) {\n    //   layer.style.transform = `translateY(-${position}px)`;\n    // } else {\n    //   layer.style.transform = `translateY(-${1300}px)`;\n    // }\n  };\n\n  positionHandle(1, building1Layer);\n  positionHandle(2, building2Layer);\n  positionHandle(3, building3Layer);\n  positionHandle(4, building4Layer);\n\n  console.log('windowHeight', windowHeight, layer5.style.opacity);\n  if (positionY > unitNumber * 8) {\n    const layerBuildingContainer = document.querySelector('.layerBuildingContainer');\n    layerBuildingContainer.style.transform = `translateY(${unitNumber * 8 - positionY}px)`;\n  }\n\n  // if (5000 - windowHeight <= positionY - 500 && positionY < 30000) {\n  //   console.log('시작');\n  //   building1Layer.style.transform = `translateY(${positionY - 3400}px)`;\n  // }\n  // if (10000 - windowHeight <= positionY - 500 && positionY < 30000) {\n  //   console.log('시작');\n  //   building2Layer.style.transform = `translateY(${positionY - 8300}px)`;\n  // }\n  // if (15000 - windowHeight <= positionY - 500 && positionY < 30000) {\n  //   console.log('시작');\n  //   building3Layer.style.transform = `translateY(${positionY - 13250}px)`;\n  // }\n  // if (20000 - windowHeight <= positionY - 500 && positionY < 30000) {\n  //   console.log('시작');\n  //   building4Layer.style.transform = `translateY(${positionY - 18250}px)`;\n  //   ligntLayer.style.transform = `translateY(${positionY - 18250}px)`;\n  // }\n\n  // const layerControll = (layer) => {\n  //   if (positionY + window.innerHeight >= layer.scrollTop) {\n  //   }\n  // };\n  // layerControll(building1Layer);\n  // if (positionY > 2300) {\n  // layer0.style.transform = `translateY(${positionY}px)`;\n  // layer1.style.transform = `translateY(${positionY}px)`;\n  // layer2.style.transform = `translateY(${positionY}px)`;\n  // layer3.style.transform = `translateY(${positionY}px)`;\n  // layer4.style.transform = `translateY(${positionY}px)`;\n  // layer5.style.transform = `translateY(${positionY}px)`;\n  // }\n  // if (positionY > 3000) {\n  //   layer1.style.opacity = 1 - (positionY + 3000) / 300;\n  // }\n  // layer1.style.transform = `translateY(${positionY / 2}px) scaleX(${positionY / 100 + 1 > 9 ? 9 : positionY / 100 + 1})`;\n  // layer2.style.transform = `translateY(${positionY / 4}px) scaleX(${positionY / 200 + 1 > 4 ? 4 : positionY / 200 + 1})`;\n\n  // layer3.style.transform = `translateY(0px) rotateZ(${positionY / 2}deg)`;\n  // layer3.style.opacity = `${1 - (positionY - 1200) / 95}`;\n  // // layer3.style.transform = `translateY(${positionY / 8}px)`;\n  // if (positionY > 800) {\n  //   layer3.style.transform = `translateY(${positionY - 800}px)`;\n  // }\n};\n\n// document.querySelector('.wrap').addEventListener('scroll', onScroll);\nwindow.addEventListener('scroll', onScroll);\n\n// handle event\nwindow.addEventListener('resize', onScroll);\n\n(() => {\n  const finger = document.querySelector('.fingerToggle');\n  finger.addEventListener('click', (event) => {\n    const el = document.querySelector('.fingerFrame');\n    console.log(event.target);\n    el.classList.toggle('open');\n  });\n})();\n"]}