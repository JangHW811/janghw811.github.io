{"version":3,"sources":["src/index.js"],"names":["elLength","parallaxScrollHeight","window","innerHeight","contentHeight","rate","toFixed","index","onScroll","yOffset","pageYOffset","newIndex","parseInt","positionY","unitNumber","document","querySelector","style","top","layer0","layer1","layer2","layer3","layer4","layer5","opacity","Math","abs","fadeTiming","building1Layer","building2Layer","building3Layer","building4Layer","layerBuildingContainer","console","log","positionHandle","layer","timing","layerPosition","speed","parallaxStart","translatNumber","transform","buildingLayerTopPosition","bottomPositionForScale","bottomPosition","scale","addEventListener","event","classList","toggle","peopleContainer","human","querySelectorAll","forEach","item","remove","target","parentElement","add","card","cardIndex"],"mappings":"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","file":"src.7f642b37.js","sourceRoot":"..","sourcesContent":["const elLength = 11;\nconst parallaxScrollHeight = window.innerHeight * elLength;\nconst contentHeight = parallaxScrollHeight + window.innerHeight;\nconst rate = (1 / (elLength + 1)).toFixed(2);\nlet index = null;\n\nconst onScroll = () => {\n  const yOffset = (window.pageYOffset / contentHeight).toFixed(2);\n  const newIndex = parseInt(yOffset / rate);\n  if (index !== newIndex) {\n    index = newIndex;\n  }\n  const positionY = window.pageYOffset;\n  const unitNumber = contentHeight / elLength;\n  const background = document.querySelector('.background');\n  background.style.top = `-${positionY / 415}%`;\n\n  const layer0 = document.querySelector('.layer0');\n  const layer1 = document.querySelector('.layer1');\n  const layer2 = document.querySelector('.layer2');\n  const layer3 = document.querySelector('.layer3');\n  const layer4 = document.querySelector('.layer4');\n  const layer5 = document.querySelector('.layer5');\n\n  const fadeTiming = 350;\n  const fadeLong = 2.2;\n  layer0.style.opacity = fadeLong - Math.abs(positionY - (fadeTiming - 100)) / (fadeTiming - 100);\n  layer1.style.opacity = fadeLong - Math.abs(positionY - unitNumber) / fadeTiming;\n  layer2.style.opacity = fadeLong - Math.abs(positionY - unitNumber * 2) / fadeTiming;\n  layer3.style.opacity = fadeLong - Math.abs(positionY - unitNumber * 3) / fadeTiming;\n  layer4.style.opacity = fadeLong - Math.abs(positionY - unitNumber * 4) / fadeTiming;\n  layer5.style.opacity = -(fadeLong - (positionY - unitNumber * 4.5) / fadeTiming);\n\n  const building1Layer = document.querySelector('.building1Layer');\n  const building2Layer = document.querySelector('.building2Layer');\n  const building3Layer = document.querySelector('.building3Layer');\n  const building4Layer = document.querySelector('.building4Layer');\n  const layerBuildingContainer = document.querySelector('.layerBuildingContainer');\n\n  console.log('positionY', positionY, index);\n  const positionHandle = (layer, timing, layerPosition) => {\n    const speed = 80;\n    const parallaxStart = window.innerHeight * (100 / layerPosition);\n    const translatNumber = layerPosition - ((positionY - parallaxStart) * layerPosition) / (timing * speed);\n\n    // if (parallaxStart <= positionY) {\n    if (translatNumber >= 0) {\n      layer.style.transform = `translateY(${translatNumber}vh)`;\n    } else {\n      layer.style.transform = `translateY(0vh)`;\n    }\n    // }\n  };\n\n  positionHandle(building1Layer, 60, 50);\n  positionHandle(building2Layer, 40, 30);\n  positionHandle(building3Layer, 70, 40);\n  positionHandle(building4Layer, 90, 60);\n  // positionHandle(building1Layer, 40, 60);\n  // positionHandle(building2Layer, 60, 40);\n  // positionHandle(building3Layer, 75, 75);\n  // positionHandle(building4Layer, 85, 100);\n  const buildingLayerTopPosition = 100 - positionY / 10;\n  layerBuildingContainer.style.top = `${buildingLayerTopPosition >= 0 ? buildingLayerTopPosition : 0}vh`;\n\n  const bottomPositionForScale = positionY - (parallaxScrollHeight - window.innerHeight * 4);\n  const bottomPosition = positionY - (parallaxScrollHeight - window.innerHeight);\n  const scale = bottomPositionForScale / 2000;\n\n  if (parallaxScrollHeight - window.innerHeight <= positionY) {\n    layerBuildingContainer.style.transform = `translateY(-${bottomPosition}px) scale(${scale > 1 ? scale : 1})`;\n    layer5.style.transform = `translateY(-${bottomPosition}px)`;\n  } else if (parallaxScrollHeight - window.innerHeight * 4 <= positionY) {\n    layerBuildingContainer.style.transform = `scale(${scale > 1 ? scale : 1})`;\n  } else {\n    layerBuildingContainer.style.transform = null;\n    layer5.style.transform = null;\n  }\n};\n\nwindow.addEventListener('scroll', onScroll);\n\n// handle event\nwindow.addEventListener('resize', onScroll);\n\n(() => {\n  const finger = document.querySelector('.fingerToggle');\n  finger.addEventListener('click', (event) => {\n    const el = document.querySelector('.fingerFrame');\n    // console.log(event.target);\n    el.classList.toggle('open');\n  });\n  const peopleContainer = document.querySelector('.peopleContainer');\n\n  const human = peopleContainer.querySelectorAll('a');\n\n  human.forEach((item, index) =>\n    item.addEventListener('click', (event) => {\n      human.forEach((item) => {\n        item.classList.remove('active');\n      });\n      // const human = target.parent();\n      // const human = event.target;\n\n      event.target.parentElement.classList.add('active');\n      const cardList = document.querySelectorAll(`.cardContainer > img`);\n\n      cardList.forEach((card, cardIndex) => {\n        // console.log('card', card, index, cardIndex);\n        if (index === cardIndex) {\n          card.classList.add('active');\n        } else {\n          card.classList.remove('active');\n        }\n      });\n    }),\n  );\n})();\n"]}