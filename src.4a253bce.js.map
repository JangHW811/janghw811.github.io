{"version":3,"sources":["src/index.js"],"names":["elLength","parallaxScrollHeight","contentHeight","window","innerHeight","rate","toFixed","index","scaleStartPosition","NodeList","prototype","forEach","Array","Element","append","appendChild","remove","parentNode","removeChild","onScroll","yOffset","pageYOffset","newIndex","parseInt","positionY","unitNumber","document","querySelector","style","top","fadeContainer","layer0","layer1","layer2","layer3","layer4","layer5","opacity","Math","abs","fadeTiming","building1Layer","building2Layer","building3Layer","building4Layer","layerBuildingContainer","positionHandle","layer","layerPosition","movePositionPixel","translatNumber","innerWidth","transform","buildingLayerTopPosition","bottomPositionForScale","scale","headerHeight","offsetHeight","bottomPosition","minMaxScale","onResize","youtubeContainer","youtubeIframe","console","log","width","height","addEventListener","event","classList","toggle","peopleContainer","human","querySelectorAll","item","target","parentElement","add","card","cardIndex","starTwinkle","num","createStar","createElement","topRandom","random","leftRandom","sizeRandom","star","left","setTimeout","randomTwinkle","interval","setInterval","starNumber","floor"],"mappings":"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","file":"src.4a253bce.js","sourceRoot":"..","sourcesContent":["const elLength = 7;\nconst parallaxScrollHeight = 16000;\nconst contentHeight = parallaxScrollHeight + window.innerHeight;\nconst rate = (1 / (elLength + 1)).toFixed(2);\nlet index = null;\nlet scaleStartPosition = 8000;\n\nif (window.NodeList && !NodeList.prototype.forEach) {\n  NodeList.prototype.forEach = Array.prototype.forEach;\n}\n\nif (!Element.prototype.append) {\n  Element.prototype.append = Element.prototype.appendChild;\n}\n\nif (!('remove' in Element.prototype)) {\n  Element.prototype.remove = function () {\n    if (this.parentNode) {\n      this.parentNode.removeChild(this);\n    }\n  };\n}\n\nconst onScroll = () => {\n  const yOffset = (window.pageYOffset / contentHeight).toFixed(2);\n  const newIndex = parseInt(yOffset / rate);\n  if (index !== newIndex) {\n    index = newIndex;\n  }\n  const positionY = window.pageYOffset;\n  const unitNumber = contentHeight / elLength;\n  const background = document.querySelector('.background');\n  background.style.top = `-${positionY / 415}%`;\n\n  const fadeContainer = document.querySelector('.fadeContainer');\n  const layer0 = document.querySelector('.layer0');\n  const layer1 = document.querySelector('.layer1');\n  const layer2 = document.querySelector('.layer2');\n  const layer3 = document.querySelector('.layer3');\n  const layer4 = document.querySelector('.layer4');\n  const layer5 = document.querySelector('.layer5');\n\n  const fadeTiming = 400;\n  const fadeLong = 2.7;\n  layer0.style.opacity = fadeLong - Math.abs(positionY - (fadeTiming - 100)) / (fadeTiming - 100);\n  layer1.style.opacity = fadeLong - Math.abs(positionY - unitNumber) / fadeTiming;\n  layer2.style.opacity = fadeLong - Math.abs(positionY - unitNumber * 2) / fadeTiming;\n  layer3.style.opacity = fadeLong - Math.abs(positionY - unitNumber * 3) / fadeTiming;\n  layer4.style.opacity = fadeLong - Math.abs(positionY - unitNumber * 4) / fadeTiming;\n  layer5.style.opacity = -(fadeLong - (positionY - unitNumber * 4.5) / fadeTiming);\n\n  const building1Layer = document.querySelector('.building1Layer');\n  const building2Layer = document.querySelector('.building2Layer');\n  const building3Layer = document.querySelector('.building3Layer');\n  const building4Layer = document.querySelector('.building4Layer');\n  const layerBuildingContainer = document.querySelector('.layerBuildingContainer');\n\n  const positionHandle = (layer, layerPosition) => {\n    const movePositionPixel = window.innerHeight * (layerPosition / 100);\n    const translatNumber = layerPosition - (movePositionPixel * positionY) / (window.innerWidth * 60);\n    if (translatNumber >= 0) {\n      layer.style.transform = `translateY(${translatNumber}px)`;\n    } else {\n      layer.style.transform = `translateY(0)`;\n    }\n\n    // if (scaleStartPosition === 0 && layerPosition === 1600 && translatNumber * (window.innerWidth / window.innerHeight) <= 500) {\n    //   scaleStartPosition = positionY;\n    // } else {\n    //   // scaleStartPosition = 0;\n    // }\n  };\n\n  positionHandle(building1Layer, 700);\n  positionHandle(building2Layer, 1000);\n  positionHandle(building3Layer, 1300);\n  positionHandle(building4Layer, 1600);\n\n  const buildingLayerTopPosition = 100 - positionY / 40;\n  layerBuildingContainer.style.top = `${buildingLayerTopPosition >= 0 ? buildingLayerTopPosition : 0}vh`;\n\n  // const scaleStartPosition = parallaxScrollHeight - 2500;\n  const bottomPositionForScale = positionY - scaleStartPosition;\n  const scale = 1 + bottomPositionForScale / 3000;\n  const headerHeight = document.querySelector('.header_menu_wrap')\n    ? document.querySelector('.header_menu_wrap').offsetHeight + 10\n    : 0;\n  const bottomPosition = positionY - (parallaxScrollHeight - window.innerHeight) - headerHeight;\n  if (scaleStartPosition && scaleStartPosition <= positionY) {\n    const minMaxScale = scale < 1 ? 1 : scale > 1.3 ? 1.3 : scale;\n    if (parallaxScrollHeight - window.innerHeight <= positionY) {\n      layerBuildingContainer.style.transform = `translateY(-${bottomPosition}px) scale(${minMaxScale})`;\n      fadeContainer.style.transform = `translateY(-${bottomPosition}px)`;\n    } else {\n      layerBuildingContainer.style.transform = `scale(${minMaxScale})`;\n    }\n  } else {\n    layerBuildingContainer.style.transform = null;\n    fadeContainer.style.transform = null;\n  }\n};\n\nconst onResize = () => {\n  const youtubeContainer = document.querySelector('.youtubeContainer > img.youtubeFrame');\n  const youtubeIframe = document.querySelector('.youtubeContainer > iframe');\n  console.log('window.innerWidth', window.innerWidth);\n  youtubeContainer.style.width = `${window.innerWidth * 0.36}px`;\n  youtubeIframe.width = `${window.innerWidth * 0.31}px`;\n  youtubeIframe.height = `${window.innerWidth * 0.31 * (41 / 73)}px`;\n  onScroll();\n};\nonResize();\nwindow.addEventListener('scroll', onScroll);\n\n// handle event\nwindow.addEventListener('resize', onResize);\n\n(() => {\n  const finger = document.querySelector('.fingerToggle');\n  finger.addEventListener('click', (event) => {\n    const el = document.querySelector('.fingerFrame');\n    el.classList.toggle('open');\n  });\n  const peopleContainer = document.querySelector('.peopleContainer');\n\n  const human = peopleContainer.querySelectorAll('.humanContainer');\n\n  human.forEach((item, index) =>\n    item.addEventListener('click', (event) => {\n      human.forEach((item) => {\n        item.classList.remove('active');\n      });\n      // const human = target.parent();\n      // const human = event.target;\n\n      event.target.parentElement.classList.add('active');\n      const cardList = document.querySelectorAll(`.cardContainer > img`);\n\n      cardList.forEach((card, cardIndex) => {\n        // console.log('card', card, index, cardIndex);\n        if (index === cardIndex) {\n          card.classList.add('active');\n        } else {\n          card.classList.remove('active');\n        }\n      });\n    }),\n  );\n})();\n\n// window.onload = function () {\n//   setTimeout(function () {\n//     scrollTo(0, 0);\n//   }, 100);\n// };\n\nconst starTwinkle = (num) => {\n  const createStar = document.createElement('div');\n  createStar.classList.add(`star`);\n  createStar.classList.add(`star${num % 10}`);\n  createStar.classList.add(`starRandom${num}`);\n\n  const background = document.querySelector('.background');\n  background.append(createStar);\n\n  const topRandom = Math.random() * 100;\n  const leftRandom = Math.random() * 100;\n  const sizeRandom = Math.random() * (12.5 - 5) + 5;\n\n  const star = document.querySelector(`.starRandom${num}`);\n\n  star.style.top = `${topRandom}vh`;\n  star.style.left = `${leftRandom}vw`;\n  star.style.width = `${sizeRandom}px`;\n  star.style.height = `${sizeRandom}px`;\n  setTimeout(() => star.remove(), (num % 10) * 100 * 2);\n};\n\nconst randomTwinkle = (num) => {\n  const interval = Math.random() * 2000;\n  setTimeout(() => {\n    starTwinkle(num);\n  }, interval);\n};\n\nsetInterval(() => {\n  const starNumber = Math.floor(Math.random() * 100);\n  randomTwinkle(starNumber);\n}, 50);\n"]}